<!DOCTYPE html>
<html>
<head>
<title>Cylinder Calculator</title>
</head>
<style>

* {
  font-family: Helvetica, Arial, sans-serif;
  box-sizing: border-box;
}

body {
  background-color: rgb(200,200,200);
  margin: 0;
}

#sw, #across > p {
  display: none;
}

table {
  font-size: 0.7vw;
  width: 93.5vw;
  /*width: 90%;
  max-width: 1660px;*/
  margin: auto;
  margin-bottom: 50px;
}

td {
  padding: 5px 20px;
  border: 1px solid black;
  text-align: center;
  background-color: white;
}
  
th {
  padding: 0.3vw 1vw;
  /*padding: 5px 20px;*/
  background-color: rgba(0,0,100, 1);
  color: white;
  border: 1px solid white;
}

th p:first-child {
  margin: 0;
  width: 85%;
  display: inline-block;
  text-align: left;
  vertical-align: middle;
}

th p:last-child {
  margin: 0;
  width: 15%;
  display: inline-block;
  text-align: right;
  vertical-align: middle;
}

th:nth-child(2), th:nth-child(3) {
  background-color: rgba(0,0,100, 1);
}

tr:first-child th {
  background-color: rgba(0,0,100, 1);
}

tr:first-child th:nth-child(1):hover {
  cursor: pointer;
  background-color: rgba(0,0,100, 0.85);
}

tr:first-child th:nth-child(1):active {
  cursor: pointer;
  translate: 0px 1px;
}

tr:first-child th:nth-child(3):hover {
  cursor: pointer;
  background-color: rgba(0,0,100, 0.85);
}

tr:first-child th:nth-child(3):active {
  cursor: pointer;
  translate: 0px 1px;
}

.across ~ span {
  color: red;
  font-weight: bold;
  background-color: white;
  border-radius: 5px;
  padding: 2px 10px;
}

.calculator {
  min-height: 300px;
  width: 90%;
  max-width: 1002px;
  display: flex;
  margin: auto;
  margin-top: 20px;
  text-align: center;
  background-color: rgb(150,200,0);
}

.steps {
  float: left;
  text-align: center;
  min-height: 300px;
  padding: 5px;
  width: 50%;
}

.calculator, .steps, .resultbox, .title, .stepbox:first-child {
  border-radius: 10px 10px 10px 10px;
}

.resultbox > p {
  position: relative;
  margin: 12px 0 10px;
  padding: 7px;
  width: 100%;
  font-size: 100%;
  font-weight: bold;
  text-align: right;
  background-color: rgb(0,150,0);
  color: white;
  border-radius: 10px;
}

.stepbox, .resultbox {
  min-height: 320px;
  padding: 10px;
  text-align: center;
  background-color: rgb(150,200,0);
  border: 2px solid rgb(0,150,0);
}

.title {
  font-size: 110%;
  font-weight: bold;
  display: block;
  margin: 0 0 0 0;
  padding: 10px;
  color: white;
  background-color: rgb(0,150,0);
}

input {
  font-size: 150%;
  text-align: center;
  padding: 3% 0;
  margin: 5% 0;
  width: 80%;
}

.info, .name {
  text-align: center;
}

.name {
  position: sticky;
  top: 0;
  width: 100%;
  background-color: rgba(250,250,250,0.9);
}

h1 {
  margin: 0;
  padding: 20px;
}

.info p {
  width: 90%;
  max-width: 800px;
  display: inline-block;
  padding: 10px;
  margin: 20px;
  font-size: 120%;
  color: rgb(20,20,20);
  border: 2px solid rgb(20,20,20);
  background-color: rgb(250,250,250);
}

b {
  background-color: yellow;
}

</style>
<body>

<div class="name"><h1>CYLINDER SIZE CALCULATOR</h1></div>

<div class="calculator">
  <div class="steps">
  <div class="stepbox">
    <p class="title">STEP 1 - Please provide item height. (mm)</p><input id="sh" type="number" placeholder="(item height)" oninput="cylinderCalc(this.value)" onchange="cylinderCalc(this.value)">

    <p class="title">STEP 2 - Please provide item width. (mm)</p><input id="sw" type="number" placeholder="(item width)" oninput="cylinderCalc(this.value)" onchange="cylinderCalc(this.value)">
  </div>
  </div>
  <div class="steps">
    <div id="across" class="resultbox"><span class="title">Number across with specified width:</span>
      <p>EF410 - max width <span class="across">410</span>: &nbsp<span></span> Across &nbsp<span></span> O/A</p>
      <p>EF510 - max width <span class="across">490</span>: &nbsp<span></span> Across &nbsp<span></span> O/A</p>
      <p>EF520 - max width <span class="across">500</span>: &nbsp<span></span> Across &nbsp<span></span> O/A</p>
      <p>EFA580 - max width <span class="across">560</span>: &nbsp<span></span> Across &nbsp<span></span> O/A</p>
      <p>OMET670 - max width <span class="across">640</span>: &nbsp<span></span> Across &nbsp<span></span> O/A</p>
    </div>
    </div>
</div>

<div class="info"><p>You should use cylinder size shown below along with number around shown in <b>YELLOW</b>.<span id="demo" style="color:red"></span></p></div>

<table id="myTable" style="border-collapse: collapse">
  
  <tr>
    <th style="width:355px" onclick="sortTable(0)">Max Finished Width &nbsp; &#11109</th>
    <th>Cylinders Available</th>
    <th onclick="sortTable2(2)">Cylinder Size Z &nbsp; &#11109</th>
    <th>1 Around</th>
    <th>2 Around</th>
    <th>3 Around</th>
    <th>4 Around</th>
    <th>5 Around</th>
    <th>6 Around</th>
    <th>7 Around</th>
    <th>8 Around</th>
  </tr>
  
  <tr><th><p>EF520 </p><p>500</p></th><th>8 (410)</th><th>91</th><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
  <tr><th><p>EF510 </p><p>490</p></th><th>8</th><th>92</th><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
  <tr><th><p>EF520 </p><p>500</p></th><th>8</th><th>92</th><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
  <tr><th><p>EF510 </p><p>490</p></th><th>5</th><th>93</th><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
  <tr><th><p>EF510 </p><p>490</p></th><th>8</th><th>96</th><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
  <tr><th><p>EF520 </p><p>500</p></th><th>8</th><th>96</th><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
  <tr><th><p>EFA580 </p><p>560</p></th><th>10</th><th>96</th><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
  <tr><th><p>EF410 width size cylinders (Leeds) </p><p>410</p></th><th>7</th><th>100</th><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
  <tr><th><p>EF520 </p><p>500</p></th><th>7 (410)</th><th>100</th><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
  <tr><th><p>EFA580 </p><p>560</p></th><th>7</th><th>100</th><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
  <tr><th><p>EF410 width size cylinders (Leeds) </p><p>410</p></th><th>7</th><th>104</th><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
  <tr><th><p>EF520 </p><p>500</p></th><th>7 (410)</th><th>104</th><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
  <tr><th><p>EFA580 </p><p>560</p></th><th>10</th><th>104</th><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
  <tr><th><p>EF510 </p><p>490</p></th><th>10</th><th>108</th><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
  <tr><th><p>EFA580 </p><p>560</p></th><th>10</th><th>108</th><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
  <tr><th><p>EF410 width size cylinders (Leeds) </p><p>410</p></th><th>7</th><th>115</th><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
  <tr><th><p>EF510 </p><p>490</p></th><th>9</th><th>116</th><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
  <tr><th><p>EF520 </p><p>500</p></th><th>9</th><th>116</th><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
  <tr><th><p>EF410 width size cylinders (Leeds) </p><p>410</p></th><th>7</th><th>119</th><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
  <tr><th><p>EF510 </p><p>490</p></th><th>1</th><th>119</th><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
  
  <tr><th><p>EF510 </p><p>490</p></th><th>10</th><th>124</th><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
  <tr><th><p>EF520 </p><p>500</p></th><th>8</th><th>124</th><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
  <tr><th><p>EFA580 </p><p>560</p></th><th>10</th><th>124</th><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
  <tr><th><p>EF410 width size cylinders (Leeds) </p><p>410</p></th><th>7 (no mag)</th><th>128</th><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
  <tr><th><p>EF520 </p><p>500</p></th><th>3</th><th>128</th><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
  <tr><th><p>EF410 width size cylinders (Leeds) </p><p>410</p></th><th>7</th><th>130</th><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
  <tr><th><p>EF510 </p><p>490</p></th><th>11</th><th>130</th><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
  <tr><th><p>EF520 </p><p>500</p></th><th>8</th><th>130</th><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
  <tr><th><p>EF410 width size cylinders (Leeds) </p><p>410</p></th><th>7 (no mag)</th><th>132</th><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
  <tr><th><p>EF410 width size cylinders (Leeds) </p><p>410</p></th><th>7</th><th>136</th><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
  <tr><th><p>EF520 </p><p>500</p></th><th>8 (410)</th><th>136</th><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
  <tr><th><p>EFA580 </p><p>560</p></th><th>10</th><th>136</th><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
  <tr><th><p>EF410 width size cylinders (Leeds) </p><p>410</p></th><th>7</th><th>140</th><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
  <tr><th><p>EF520 </p><p>500</p></th><th>7 (410)</th><th>140</th><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
  <tr><th><p>EF510 </p><p>490</p></th><th>16</th><th>146</th><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
  <tr><th><p>EF520 </p><p>500</p></th><th>16</th><th>146</th><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
  <tr><th><p>EF510 </p><p>490</p></th><th>8</th><th>151</th><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
  <tr><th><p>EF520 </p><p>500</p></th><th>8</th><th>151</th><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
  <tr><th><p>EFA580 </p><p>560</p></th><th>10</th><th>151</th><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
  <tr><th><p>OMET670 </p><p>640</p></th><th>9</th><th>151</th><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
  <tr><th><p>EF410 width size cylinders (Leeds) </p><p>410</p></th><th>7</th><th>152</th><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
  <tr><th><p>EF410 width size cylinders (Leeds) </p><p>410</p></th><th>9</th><th>153</th><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
  <tr><th><p>EF520 </p><p>500</p></th><th>8</th><th>153</th><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
  <tr><th><p>EFA580 </p><p>560</p></th><th>10</th><th>153</th><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
  
  <tr><th><p>EF410 width size cylinders (Leeds) </p><p>410</p></th><th>7</th><th>155</th><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
  <tr><th><p>EF510 </p><p>490</p></th><th>4</th><th>155</th><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
  <tr><th><p>EF510 </p><p>490</p></th><th>15</th><th>160</th><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
  <tr><th><p>EF520 </p><p>500</p></th><th>8</th><th>160</th><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
  <tr><th><p>OMET670 </p><p>640</p></th><th>9</th><th>160</th><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
  <tr><th><p>EF410 width size cylinders (Leeds) </p><p>410</p></th><th>7</th><th>166</th><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
  <tr><th><p>EF520 </p><p>500</p></th><th>7 (410)</th><th>166</th><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
  <tr><th><p>EF510 </p><p>490</p></th><th>8</th><th>167</th><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
  <tr><th><p>OMET670 </p><p>640</p></th><th>7</th><th>167</th><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
  <tr><th><p>OMET670 </p><p>640</p></th><th>9</th><th>170</th><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
  <tr><th><p>EF410 width size cylinders (Leeds) </p><p>410</p></th><th>7</th><th>177</th><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
  <tr><th><p>EF510 </p><p>490</p></th><th>2</th><th>177</th><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
  <tr><th><p>EFA580 </p><p>560</p></th><th>10</th><th>177</th><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
  <tr><th><p>OMET670 </p><p>640</p></th><th>1</th><th>180</th><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
  <tr><th><p>OMET670 </p><p>640</p></th><th>9</th><th>186</th><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
  <tr><th><p>OMET670 </p><p>640</p></th><th>1</th><th>192</th><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
  <tr><th><p>OMET670 </p><p>640</p></th><th>9</th><th>205</th><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>

</table>

<script>

var i;

/* COLORING MACHINES' TYPES */

var mach = document.getElementsByTagName("p");
for (i = 0; i < mach.length; i++) {
  var m1 = mach[i].childNodes[0].nodeValue;
  if (m1 == "EF410 width size cylinders (Leeds) ") {
  document.getElementsByTagName("p")[i].parentNode.style.background = "rgba(0,50,50, 1)";
  } else if (m1 == "EF510 ") {
  document.getElementsByTagName("p")[i].parentNode.style.background = "rgba(0,85,85, 1)";
  } else if (m1 == "EF520 ") {
  document.getElementsByTagName("p")[i].parentNode.style.background = "rgba(0,120,120, 1)";
  } else if (m1 == "EFA580 ") {
  document.getElementsByTagName("p")[i].parentNode.style.background = "rgba(0,155,155, 1)";
  } else if (m1 == "OMET670 ") {
  document.getElementsByTagName("p")[i].parentNode.style.background = "rgba(0,190,190, 1)";
  }
}

/* END */

var a = document.getElementsByTagName("td").length;

var z = 0;

for (i = 0; i < a; i++) {
  
  var k = i + i + i;
  var x = document.getElementsByTagName("th")[k+13].childNodes[0].nodeValue;
  var y = ((x/8)/0.039370);
  
  var col2 = document.getElementsByTagName("td")[z];
  var col3 = document.getElementsByTagName("td")[z+1];
  var col4 = document.getElementsByTagName("td")[z+2];
  var col5 = document.getElementsByTagName("td")[z+3];
  var col6 = document.getElementsByTagName("td")[z+4];
  var col7 = document.getElementsByTagName("td")[z+5];
  var col8 = document.getElementsByTagName("td")[z+6];
  var col9 = document.getElementsByTagName("td")[z+7];
  
  col2.innerHTML = y.toFixed(3);
  col3.innerHTML = (y/2).toFixed(3);
  col4.innerHTML = (y/3).toFixed(3);
  col5.innerHTML = (y/4).toFixed(3);
  col6.innerHTML = (y/5).toFixed(3);
  col7.innerHTML = (y/6).toFixed(3);
  col8.innerHTML = (y/7).toFixed(3);
  col9.innerHTML = (y/8).toFixed(3);
  z = z + 8; 

}

function cylinderCalc(value) {

var sh = document.getElementById("sh").value;
var sw = document.getElementById("sw").value;

if (sh == "") {
  var p = document.getElementById("across").getElementsByTagName("p").length;
  var r = document.getElementsByTagName("tr").length;
  document.getElementById("sw").style.display = "none";
  //document.getElementById("across").style.display = "none";
  document.getElementById("sw").value = "";


for (i = 1; i < r; i++) {
    var row = document.getElementsByTagName("tr")[i];
    row.style.display = "table-row";
}

for (i = 0; i < a; i++) {
    var tt = document.getElementsByTagName("td")[i];
    tt.style.background = "white";
}

if (sw == "" || sh == "") {

  for (i = 0; i < p; i++) {
    var acrows = document.getElementById("across").getElementsByTagName("p")[i];
    acrows.style.display = "none";
}}

} else {

document.getElementById("sw").style.display = "inline-block";
//document.getElementById("across").style.display = "block";

/* ACROSS */

var ac = document.getElementsByClassName("across");

  for (i = 0; i < ac.length; i++) {
    if (sw != "") {
    var acval = ac[i].childNodes[0].nodeValue;
    var accal = acval / sw;
    var span1 = ac[i].nextElementSibling;
    accal = Math.floor(accal);
    var span2 = sw * accal;
    span1.innerHTML = accal;
    span1.nextElementSibling.innerHTML = span2 + "mm";
    if (accal < 1) {
      ac[i].parentNode.style.display = "none";
  }} else
    ac[i].nextElementSibling.innerHTML = "";
}

/* END */

var r = document.getElementsByTagName("tr").length;

for (i = 1; i < r; i++) {
    var row = document.getElementsByTagName("tr")[i];
    row.style.display = "none";
}

var num = [];

let text = "";

for (i = 0; i < a; i++) {
  var c1 = document.getElementsByTagName("td")[i].childNodes[0].nodeValue;
  if (c1 >= + sh){
  num[num.length] = c1;
  }
}
  if (num === undefined || num.length == 0) {
  text = "Sorry no match!";
  } else 
  text = Math.min(...num);

  /*document.getElementById("demo").innerHTML = text;*/
  
   for (i = 0; i < a; i++) {
    var c1 = document.getElementsByTagName("td")[i].childNodes[0].nodeValue;
    var c3 = document.getElementsByTagName("td")[i].parentNode.childNodes[0].childNodes[1].childNodes[0].nodeValue;
    var c2 = document.getElementsByTagName("td")[i].parentNode;
    var ac = document.getElementsByClassName("across");

      for (y = 0; y < ac.length; y++) {
      if (c1 == text && c3 >= + sw) {
       c2.style.display = "table-row";
       document.getElementsByTagName("td")[i].style.background = "yellow";   
       var acval = ac[y].childNodes[0].nodeValue;
      if (acval == c3 && sw != "") {
      ac[y].parentNode.style.display = "block";
    } else if (sw == "") {
      ac[y].parentNode.style.display = "none"; }
      }
    }
  } // end of for
  
 }
}

/* SORT TABLE */

function sortTable(n) {
  var table, rows, switching, i, x, y, shouldSwitch, dir, switchcount = 0;
  table = document.getElementById("myTable");
  switching = true;
  
  dir = "asc";

  while (switching) {

    switching = false;
    rows = table.rows;

    for (i = 1; i < (rows.length - 1); i++) {

      shouldSwitch = false;

      x = rows[i].getElementsByTagName("TH")[n];
      y = rows[i + 1].getElementsByTagName("TH")[n];

      if (dir == "asc") {
        if (x.innerHTML.toLowerCase() > y.innerHTML.toLowerCase()) {

          shouldSwitch = true;
          break;
        }
      } else if (dir == "desc") {
        if (x.innerHTML.toLowerCase() < y.innerHTML.toLowerCase()) {

          shouldSwitch = true;
          break;
        }
      }
    }
    if (shouldSwitch) {

      rows[i].parentNode.insertBefore(rows[i + 1], rows[i]);
      switching = true;

      switchcount ++;
    } else {

      if (switchcount == 0 && dir == "asc") {
        dir = "desc";
        switching = true;
      }
    }
  }
}

function sortTable2(n) {
  var table, rows, switching, i, x, y, shouldSwitch, dir, switchcount = 0;
  table = document.getElementById("myTable");
  switching = true;

  dir = "asc";

  while (switching) {

    switching = false;
    rows = table.rows;

    for (i = 1; i < (rows.length - 1); i++) {

      shouldSwitch = false;

      x = rows[i].getElementsByTagName("TH")[n];
      y = rows[i + 1].getElementsByTagName("TH")[n];

      if (dir == "asc") {
        if (Number(x.innerHTML) > Number(y.innerHTML)) {

          shouldSwitch = true;
          break;
        }
      } else if (dir == "desc") {
        if (Number(x.innerHTML) < Number(y.innerHTML)) {

          shouldSwitch = true;
          break;
        }
      }
    }
    if (shouldSwitch) {

      rows[i].parentNode.insertBefore(rows[i + 1], rows[i]);
      switching = true;

      switchcount ++;
    } else {

      if (switchcount == 0 && dir == "asc") {
        dir = "desc";
        switching = true;
      }
    }
  }
}

</script>

</body>
</html>